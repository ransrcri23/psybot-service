{"uid":"c3fd90d29650e813","name":"Intentar crear una valoración con respuestas insuficientes","fullName":"Gestión de Valoraciones PHQ-9: Intentar crear una valoración con respuestas insuficientes","historyId":"5652ef9d1b334d33adb6a4536a6eae3a","time":{"start":1752259133451,"stop":1752259133614,"duration":163},"status":"failed","statusMessage":"AssertionError: No se encontró mensaje sobre 9 respuestas en: {'patient_id': ['This field is required.'], 'responses': ['This field is required.']}\n","statusTrace":"  File \"C:\\Users\\sanch\\miniconda3\\Lib\\site-packages\\behave\\model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sanch\\miniconda3\\Lib\\site-packages\\behave\\matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"tests\\bdd\\features\\steps\\valoraciones_phq9_steps.py\", line 142, in step_verificar_error_9_respuestas\n    assert any(keyword in response_text for keyword in ['9', 'nine', 'nueve', 'exactamente']), \\\n           ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: No se encontró mensaje sobre 9 respuestas en: {'patient_id': ['This field is required.'], 'responses': ['This field is required.']}\n","statusTrace":"  File \"C:\\Users\\sanch\\miniconda3\\Lib\\site-packages\\behave\\model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sanch\\miniconda3\\Lib\\site-packages\\behave\\matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"tests\\bdd\\features\\steps\\valoraciones_phq9_steps.py\", line 142, in step_verificar_error_9_respuestas\n    assert any(keyword in response_text for keyword in ['9', 'nine', 'nueve', 'exactamente']), \\\n           ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Dado que el servicio PsyBot está disponible","time":{"start":1752259133453,"stop":1752259133462,"duration":9},"status":"passed","steps":[{"name":"Verificar disponibilidad del servicio PsyBot","time":{"start":1752259133453,"stop":1752259133462,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"21f6a1dfd9d92e05","name":"Estado del servicio","source":"21f6a1dfd9d92e05.attach","type":"text/plain","size":33}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1},{"name":"Y que tengo acceso al endpoint de valoraciones","time":{"start":1752259133462,"stop":1752259133463,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Y que existe un paciente de prueba para las valoraciones","time":{"start":1752259133463,"stop":1752259133514,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Dado que tengo los datos de una valoración con 7 respuestas","time":{"start":1752259133514,"stop":1752259133516,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"7a578b5bf9234524","name":".table","source":"7a578b5bf9234524.csv","type":"text/csv","size":93}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"Cuando envío una solicitud POST para crear la valoración","time":{"start":1752259133516,"stop":1752259133606,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Entonces la creación de la valoración falla","time":{"start":1752259133606,"stop":1752259133607,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Y recibo un código de respuesta 400","time":{"start":1752259133607,"stop":1752259133610,"duration":3},"status":"passed","steps":[{"name":"Verificar código de respuesta 400","time":{"start":1752259133607,"stop":1752259133610,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"248a39866c159112","name":"Verificación de status","source":"248a39866c159112.attach","type":"text/plain","size":21}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1},{"name":"Y la respuesta contiene un mensaje de error sobre 9 respuestas requeridas","time":{"start":1752259133610,"stop":1752259133613,"duration":3},"status":"failed","statusMessage":"AssertionError: No se encontró mensaje sobre 9 respuestas en: {'patient_id': ['This field is required.'], 'responses': ['This field is required.']}\n","statusTrace":"  File \"C:\\Users\\sanch\\miniconda3\\Lib\\site-packages\\behave\\model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\sanch\\miniconda3\\Lib\\site-packages\\behave\\matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"tests\\bdd\\features\\steps\\valoraciones_phq9_steps.py\", line 142, in step_verificar_error_9_respuestas\n    assert any(keyword in response_text for keyword in ['9', 'nine', 'nueve', 'exactamente']), \\\n           ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":3},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"api"},{"name":"tag","value":"crear_valoracion"},{"name":"tag","value":"smoke"},{"name":"tag","value":"validacion"},{"name":"tag","value":"valoraciones"},{"name":"feature","value":"Gestión de Valoraciones PHQ-9"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["validacion","smoke","api","crear_valoracion","valoraciones"]},"source":"c3fd90d29650e813.json","parameterValues":[]}